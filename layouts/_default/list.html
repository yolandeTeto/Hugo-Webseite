<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ .Title }} - {{ .Site.Title }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Inter',sans-serif; background:#f0f2f5; color:#2c3e50 }
    .main-color-bg{background:#36196d} .main-color-text{color:#36196d}
    .accent-color-text{color:#7B52B3} .section-padding{padding:4rem 1rem}
    @media(min-width:768px){.section-padding{padding:6rem 4rem}}
    .btn-primary{background:#7B52B3;color:#fff;padding:.75rem 1.5rem;border-radius:.375rem;font-weight:600}
    .btn-primary:hover{background:#6a449e}
    .active-link{color:#7B52B3!important;font-weight:700}
    .project-label{background:#fff;color:#36196d;padding:.5rem 1rem;border-radius:.375rem;font-weight:600}
  </style>
</head>
<body class="text-gray-800">

  <!-- Header / Nav -->
  <header class="bg-white shadow-lg py-4 rounded-b-xl">
    <nav class="container mx-auto flex flex-col md:flex-row items-center justify-between px-4">
      <div class="text-3xl font-extrabold main-color-text mb-4 md:mb-0 p-2 rounded-md">KITE</div>

      <ul class="flex flex-wrap justify-center md:justify-end space-x-4 md:space-x-8 text-lg">
        {{ range .Site.Menus.main }}
          <li>
            {{ if .Page }}
              <a href="{{ .Page.RelPermalink }}"
                 class="px-3 py-2 rounded-lg transition duration-300 ease-in-out font-semibold
                   {{ if eq .Page.RelPermalink $.RelPermalink }} active-link {{ else }} text-gray-700 hover:accent-color-text hover:bg-purple-50 {{ end }}">
                {{ .Name }}
              </a>
            {{ else }}
              <a href="{{ .URL | relURL }}"
                 class="px-3 py-2 rounded-lg transition duration-300 ease-in-out font-semibold
                   {{ if eq (.URL | relURL) $.RelPermalink }} active-link {{ else }} text-gray-700 hover:accent-color-text hover:bg-purple-50 {{ end }}">
                {{ .Name }}
              </a>
            {{ end }}
          </li>
        {{ end }}
      </ul>
    </nav>
  </header>

  <!-- Debug log -->
  <script>
    setTimeout(() => {
      document.querySelectorAll('nav a').forEach(a => console.log('MENU-HREF:', a.getAttribute('href')));
    }, 200);
  </script>

  <!-- Hauptbereich -->
  <main class="section-padding bg-white rounded-xl shadow-lg mx-4 md:mx-auto my-8 max-w-6xl">
    <div class="container mx-auto px-4 text-center">
      <h1 class="text-3xl md:text-4xl font-bold main-color-text mb-12 border-b-2 accent-color-text pb-2 inline-block">
        {{ .Title }}
      </h1>

      <div class="prose lg:prose-lg mx-auto mt-4 text-left text-gray-700">
        {{ .Content }}
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
        {{ range .Pages }}
          <div class="bg-[#ecf0f1] rounded-xl shadow-md p-6 text-center border border-[#d1c4e9]">
            <div class="project-label">{{ .Title }}</div>
            <p class="text-lg text-gray-700 mb-4">{{ .Summary | plainify | truncate 100 }}</p>
            <a href="{{ .RelPermalink }}" class="btn-primary">Mehr erfahren</a>
          </div>
        {{ end }}
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="main-color-bg text-white py-8 rounded-t-xl mt-8">
    <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between text-center md:text-left">
      <div class="mb-4 md:mb-0">
        <p class="text-lg font-semibold">KITE, THM, Friedberg</p>
        <p class="text-sm">email@thm.de</p>
      </div>
      <div class="flex flex-wrap justify-center md:justify-end space-x-4 text-sm">
        <a href="#" class="hover:accent-color-text">Impressum</a>
        <a href="#" class="hover:accent-color-text">Datenschutz</a>
      </div>
    </div>
  </footer>

</body>
</html>
